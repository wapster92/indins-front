# UI kit.

* [Кнопка (SimpleButton)](#simplebutton)
* [Адаптивная кнопка (AdaptiveButton)](#adaptivebutton)
* [Кнопка добавления (AddButton)](#addbutton)
* [Кнопка сворачивания (MinimizeButton)](#minimizebutton)
* [Аватар (IAvatar)](#iavatar)
* [Аватар (IBadge)](#ibadge)
* [Checkbox (IMultipleCheckbox)](#imultiplecheckbox)
* [Кнопка-иконка (IconButton)](#iconbutton)
* [Проигрыватель аудио (AudioPlayer)](#audioplayer)
* [Полоса прогресса (ProgressBar)](#progressbar)
* [Мини-Таблица (GridTable)](#gridtable)
* [Кастомный скроллбар (ScrollComponent)](#scrollcomponent)
* [Экран загрузки (SimplePreloader)](#simplepreloader)

[Вернуться к содержанию](/README.md#содержание)

## SimpleButton
Обертка вокруг компонента v-btn со стандартными стилями. Используйте, если не нужно, чтобы кнопка выглядела по-другому. Принимает те же свойства, что и v-btn.

### Дополнительный свойства:
* **tooltip** (String) - текст подсказки, которые всплывает при наведении на кнопку. По-умолчанию равно ''.

### Слоты:
* **default** - слот для содержимого кнопки. Достаточно передавать туда текст, но этим компонент не ограничен. По-умолчанию содержит строку 'Кнопка'.


## AdaptiveButton
Кнопка, которая скрывает свой текст и показывает вместо него иконку при разрешении экрана менее 860.

### Свойства:
* **icon-name** (String) - название иконки. Передается в v-icon. По-умолчанию равно ''.
* **mobile-text** (String) - рядом с иконкой можно выводить текст, когда она показывается - для этого и используется это свойство. По-умолчанию равно ''.
* **breakpoint** (String) - определяет, с какого разрешения экрана включать мобильный режим компонента. Принимает значения: 'xs', 'sm', 'md', 'lg'. По-умолчанию равно 'sm'.
* **tooltip** (String) - передает значение в одноименное свойство компонента SimpleButton, который используется внутри. По-умолчанию равно ''.

### Слоты:
* **icon** - слот для замены иконки, используемой внутри компонента. По-умолчанию используется v-icon, которому передается занчение свойства *icon-name*.
* **default** - слот для текста кнопки. Отображается только в десктопном режиме. По-умолчанию содержит строчку 'Кнопка'.


## AddButton
Кнопка добавления чего-либо. Компонент без свойств, нужен исключительно для того, чтобы не верстать кнопку добавления на каждом проекте.


## MinimizeButton
Кнопка сворачивания блоков. Содержит состояние, к которому можно привязаться по v-model.

### Свойства:
* **value** (Boolean) - свойство для корректной работы v-model. При true значении, считается свернутой. По-умолчанию равно false.

## IAvatar
Круглый аватар (обёртка над v-avatar)

### Свойства:
* **item** (Object) - в котором должно лежать либо фото, либо fullName, name или surname.
* **image** (String, Function) - если строка, то должна выглядеть как путь до фото (например: 'phone.url'). Если функция, то она получит в качестве аргумента item, и должна будет вернуть строку (url к фото).
* **diameter** (Number, String) - диаметр аватарки.

## IBadge
Круглый бэдж

### Свойства:
* **styles** (Object) - в котором лежат следующие css свойства для позиционирования, размера и цвета.

```
    height: 16,
    top: 0,
    right: 0,
    bgColor: '#CF4949',
    zIndex: 2,
    fontColor: '#ffffff',
```

## IMultipleCheckbox
Квадратный чекбокс который может находится в одном из 3-х состояний. При клике эмитит одно из двух:
- выбран(selected)
- не выбран(unselected) [default]

### Свойства:
* **state** (String) - для передачи состояния от родителя. Возможные варианты: 
    - "selected"
    - "unselected"
    - "part-selected"

## IconButton
Кнопка с иконкой, которую указывают в пропе. В основном компонент должен использоваться в верхней части блоков страниц (PageBlock), но можно использовать где угодно. Принимает аргументы v-btn.

### Свойства:
* **icon** (String) - название иконки из material библиотеки, которую необходимо отобразить. Обязательное свойство.
* **icon-props** (Object) - объект с пропами, которые необходимо прокинуть на компонент иконки. Будет объединен с дефолтными настройками иконки, используемыми в компоненте, но их можно перезаписать. По-умолчанию равно {}.


## AudioPlayer
Проигрыватель аудиозаписей - позволяет прослушать аудиозапись, ссылку на которую программист передал в соответствующую пропу.

### Свойства:
* **file** (String, Object, File) - файл, который необходимо прослушать. Если прокинута строка, то она считается ссылкой и будет использована в запросе на получение файла аудиозаписи. Если передан объект, в этом объекте будет найдено поле, переданное в urlField свойство, и будет использовано как ссылка, на которую будет сделан запрос для получения файла. Если передать File-объект, то на его основе будет сделать блоб и его можно будет проиграть все равно - запрос в этом случае не делается. По-умолчанию равно ''.
* **url-field** (String) - поле объекта, в котором необходимо искать ссылку на аудиозапись. Можно передавать значения через точку. По-умолчанию равно 'url'.
* **color** (String) - цвет кнопок управления плеером. По-умолчанию равно дефолтному цвету системы.


## ProgressBar
Компонент полосы прогресса.

### Свойства:
* **use-percents** (Boolean) - определяет какие значения отображаются в компоненте. Если включено, то вместо передаваемых значений будет отображаться текущий процент и 100%. По-умолчанию равно false.
* **max** (String, Number) - определяет максимальное значение компонента. Работает с числами или строками, которые преобразуются к числу. Обязательное свойство.
* **min** (String, Number) - определяет минимальное значение компонента. Работает с числами или строками, которые преобразуются к числу. По-умолчанию равно 0.
* **current-value** (String, Number, Object) - текущее значение компонента. Работает с числами или строками, которые преобразуются к числу, а также с объектами, но в этом случае необходимо использовать свойство item-field, которое укажет на число. Обязательное поле.
* **item-field** (String) - поле объекта, переданного в свойство current-value, в котором находится текущее значение компонента. По-умолчанию равно "".
* **title** (String) - надпись над полоской прогресса в компоненте. Можно не указывать.
* **title-description** (Boolean) - показывать ли надпись с текущим прогрессом выполнения справа от названия. По-умолчанию равно false.
* **description-start** (String) - если включен *title-description*, то показывает значение этого свойства в начале строки. По-умолчанию равно "Выполнено: ".
* **custom-description** (String) - если включен *title-description*, то показывает указанную строку, вместо дефолтной. Заставляет компонент игнорировать *description-start*. По-умолчанию равно "".
* **row-description** (Boolean) - показывать ли надпись с текущим прогрессом выполнения над полоской, но под названием. По-умолчанию равно true.
* **line-color** (String) - цвет полосы прогресса. По-умолчанию не указано - в этом случае будет использован стандартный цвет системы.
* **measure** (String) - единицы измерения, используемые в компоненте. Можно не указывать.


## GridTable
Таблица для карточек сущностей, где отображаются поля одной сущности. а не списка сущностей.

### Свойства:
* **field-names** (Object) - объект-карта, в котором указывает соотношение полей с заголовками в виде { fieldName: 'Название поля' }. Обязательное поле.
* **item** (Object) - объект, данные которого необходимо отобразить. Обязательное поле.
* **use-grid** (Boolean) - включает использование гридов для позиционирования колонок таблицы. По-умолчанию false - используются флексы.
* **columns** (String) - значение свойства grid-template-columns, в случае использования свойства *use-grid*. По-умолчанию равно ''.
```
// Пример использования
<template>
    <GridTable
        :field-names="{
            id: '№',
            count: 'Кол-во',
            name: 'Имя',
        }"
        :item="gridTableItem"
        use-grid
        columns="repeat(3, 1fr)"
    />
</template>

<script>
export default {
    name: 'SomeComponent',
    data() {
        return {
            gridTableItem: {
                id: 45,
                name: 'Kappa',
                count: 777,
              }
        };
    },
}
</script>
```


## ScrollComponent
Замена дефолтного скролла. Вставляется в элемент, у которого необходимо показать кастомный скролл. Также на элемент надо либо повесить класс ".scroll-component-element", либо добить необходимые стили другим образом:
```
.some-class {
    position: relative|absolute|fixed; /* Выберите одно из этих позиционирований */
    overflow: hidden; /* Выключаем дефолтный скролл, чтобы не мешал */
}
```

### Свойства:
* **horizontal** (Boolean) - включает горизонтальный скролл. Скролл будет показываться только если он нужен. По-умолчанию равно false.
* **vertical** (Boolean) - включает вертикальный скролл. Скролл будет показываться только если он нужен. По-умолчанию равно false.
* **value** (Object) - свойство для корректной работы компонента с v-model. Используйте v-model, когда вам нужно программно контролировать скролл - меняйте свойства x и y. Значение по-умолчанию как на примере. Объект должен выглядеть следующим образом:
```
{
  x: 0, // текущее значение прокрутки по горизонтали, в пикселях.
  y: 0, // текущее значение прокрутки по вертикали, в пикселях.
  xScrollDistance: 0, // максимально возможное значение x. Меняется автоматически компонентом.
  yScrollDistance: 0, // максимально возможное значение y. Меняется автоматически компонентом.
}
```
* **handle-width** (Number, String - число) - толщина скроллбара. Измеряется в пикселях. По-умолчанию равно 8.
* **min-handle-height** (Number, String - число) - минимальная длина скроллбара. Пока x-/yScrollDistance не станут достаточно большими, длина скроллбара будет зависеть от них. Минимальное значение не дает уменьшать скроллбар слишком сильно. Измеряется в пикселях. По-умолчанию равно 70.
* **path-color** (String - css-цвет) - цвет блока, по которому катается скроллбар. По-умолчанию равно "rgba(0, 0, 0, 0.2)".
* **handle-color** (String - css-цвет) - цвет скроллбара. По-умолчанию равно "rgba(0, 0, 0, 0.8)".
* **scroll-hide-delay** (Number, String - число) - задержка перед тем, как скроллбар исчезает после того, как им воспользовались (или навели на него курсор на десктопе). Измеряется в миллисекундах. По-умолчанию равно 200.
* **dont-hide** (Boolean) - свойство, запрещающее скрывать скроллбар, когда не происходит скролл и когда на него не наведен курсор. По-умолчанию равно false.
* **reset-on-resize** (Boolean) - свойство, которое сбрасывает текущую прокрутку и пересчитывает максимальную высоту и ширину скролла, когда меняются размеры блока, к котором данный компонент находится. По-умолчанию равно false.
* **is-not-interactive** (Boolean) - свойство, позволяющее запретить скроллу реагировать на обычные события, которые заставляют скролл работать на тач устройствах. Необходимо на случай, когда поверх скролла необходимо делать какие-то свои тач ивенты (например перетягивания в канбане). По-умолчанию равно false.
* **wheel-scroll-distance** (Number, String - число) - кол-во пикселей, на которое будет проскроллена страница при вызове скролл-события. Измеряется в пикселях. По-умолчанию равно 40.
> Свойство wheel-scroll-distance было сделано для контроля скорости прокрутки,
> но оно не влияет на кол-во скролл-событий, которое будет вызвано различными
> устройствами, так что поведение скроллбара будет зависеть от этих устройств.
> Например, некоторые трекпады реализуют так называемую инерцию, из-за которой
> wheel событие вызывается в момент прокрутки, а затем несколько раз после того,
> как пользователь перестал скроллить. Большинство мышек при этом перестают вызывать
> wheel события как только пользователь перестает скролить. На тач устройствах
> используются touch события, которые в принципе работают по-другому.

### Пример использования:
```
// Базовое использование.
<div class="scroll-component-element">
  <ScrollComponent
    horizontal
    vertical
  />
  <!-- Остальной контент блока -->   
</div>

// Контроль скролла программно
<template>
  <div class="scroll-component-element">
    <ScrollComponent
      v-model="scrollInfo"
      horizontal
      vertical
    />
    <!-- Остальной контент блока -->   
  </div>
</template>

<script>
export default {
  data() {
    return {
      scrollInfo: {
        x: 0,
        y: 0,
        xScrollDistance: 0,
        yScrollDistance: 0,
      },
    };
  },
  watch: {
    'scrollInfo.y': function(value, oldValue) {
      // Делать что-то при определенных значениях вертикальной прокрутки.
      // Можно даже сравнивать старое значение с новым и делать что-то на
      // на основе результата.
    },
  },
  mounted() {
    // Прокрутить элемент вниз до конца при маунте.
    // Если так не получается, попробуйте повесить одноразовый вотчер
    // или делайте это когда получили необходимые данные с бэка.
    this.scrollInfo.y = this.scrtollInfo.yScrollDistance;
  },
}
</script>
```

